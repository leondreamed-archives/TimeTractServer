# Migration `20200326213046`

This migration has been generated by Leon Si at 3/26/2020, 9:30:46 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Site" (
    "category" text  NOT NULL DEFAULT '',
    "id" SERIAL,
    "name" text  NOT NULL DEFAULT '',
    "productivity" integer  NOT NULL DEFAULT 0,
    "rescueTimeData" integer   ,
    "timeSpent" integer  NOT NULL DEFAULT 0,
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."Site" ADD FOREIGN KEY ("rescueTimeData")REFERENCES "public"."RescueTimeData"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200326204403..20200326213046
--- datamodel.dml
+++ datamodel.dml
@@ -1,11 +1,12 @@
 generator client {
   provider = "prisma-client-js"
+  binaryTargets = ["native", "debian-openssl-1.1.x"]
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model User {
   id Int @id @default(autoincrement())
@@ -21,11 +22,20 @@
 model RescueTimeData {
   id Int @id @default(autoincrement())
   productiveTime Int
   distractingTime Int
+  topSites Site[]
   updatedAt DateTime @updatedAt
 }
+model Site {
+  id Int @id @default(autoincrement())
+  name String
+  category String
+  productivity Int
+  timeSpent Int
+}
+
 model Group {
   id Int @id @default(autoincrement())
   name String @unique
   blurb String @default("")
```


